<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>Sandra Hartman</title>

  <!-- CSS y librerías -->
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css" />
  <link href="css/font-awesome.min.css" rel="stylesheet" />
  <link href="css/style.css" rel="stylesheet" />
  <link href="css/responsive.css" rel="stylesheet" />

  <!-- ANIMACIONES -->
  <style>
    #menuGrid .menu-item {
      opacity: 0;
      transform: scale(0.85) translateY(20px);
      filter: blur(4px);
    }

    #menuGrid .menu-item.show {
      animation: popIn 0.45s cubic-bezier(0.2, 0.8, 0.3, 1.2) forwards;
    }

    @keyframes popIn {
      0% {
        opacity: 0;
        transform: scale(0.85) translateY(20px);
        filter: blur(4px);
      }

      60% {
        opacity: 1;
        transform: scale(1.05) translateY(-3px);
        filter: blur(0);
      }

      100% {
        opacity: 1;
        transform: scale(1) translateY(0);
        filter: blur(0);
      }
    }

    #menuGrid .menu-item .box {
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }

    #menuGrid .menu-item:hover .box {
      transform: translateY(-6px) scale(1.02);
      box-shadow: 0 18px 35px rgba(0, 0, 0, 0.18);
    }

    .chip {
      display: inline-block;
      padding: 8px 14px;
      background: #eee;
      border-radius: 20px;
      margin-right: 8px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
    }

    .chip.active {
      background: #333;
      color: #fff;
    }
  </style>

</head>

<body>

  <div class="container text-">
    <nav class="navbar navbar-expand-lg custom_nav-container ">
      <a class="navbar-brand" href="index.html">
        <span>Sandra Hartman</span>
      </a>
    </nav>
  </div>

  <!-- FOOD SECTION -->
  <section class="food_section layout_padding-bottom">
    <div class="container">
      <div class="heading_container heading_center mt-4">
        <h2>Menu</h2>
      </div>

      <ul class="filters_menu">
        <li class="active" data-filter=".congelados">Congelados</li>
        <li data-filter=".jugos">Jugos</li>
             <li data-filter=".salsas">Salsas & Pastas </li>
        <li data-filter=".aceitunas">Aceitunas</li>
        <li data-filter=".salmuera">En Salmuera</li>
        <li data-filter=".aseptic">Aseptic</li>
      </ul>

      <div class="mt-5  text-center">
        <div class="brand-chips" style="justify-content:center;">
          <span data-brand="all" class="chip active">Todas</span>
          <span data-brand="Belmont" class="chip">Belmont</span>
          <span data-brand="La Gloria" class="chip">La Gloria</span>
        </div>
      </div>

      <div class="filters-content">

      <div class="row grid" id="menuGrid"></div>

      <div id="noResultsMessage"
          style="display:none; margin-top:45px; text-align:center; color:#222831;">
        <div style="
          display:flex;
          flex-direction:column;
          align-items:center;
          justify-content:center;
          width:100%;
          max-width:250px;
          margin:auto;
        ">
          <i class="fa fa-exclamation-circle" style="font-size:36px; margin-bottom:12px; color:#222831;"></i>
          <span style="font-size:17px; font-weight:600; line-height:1.3; display:block; color:#222831;">
            No existen productos para esta selección.
          </span>
        </div>
      </div>





        
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer_section">
    <div class="container">
      <div class="row">

        <div class="col-md-4 footer-col">
          <h4>Contactame</h4>

          <p>
            <a href="https://www.google.com/maps?q=545+W+18th+St,+Hialeah,+FL+33010" target="_blank">
              <i class="fa fa-map-marker"></i> 545 W 18th St, Hialeah, FL 33010
            </a>
          </p>

          <p>
            <a href="tel:+17863444445">
              <i class="fa fa-phone"></i> +1 (786) 344-4445
            </a>
          </p>

          <p>
            <a href="mailto:yampeng89@gmail.com">
              <i class="fa fa-envelope"></i> yampeng89@gmail.com
            </a>
          </p>
        </div>

        <div class="col-md-4 footer-col">
          <h4>Social Media</h4>
          <div class="footer_social">
            <a href="https://wa.me/17863444445" target="_blank">
              <i class="fa fa-whatsapp" aria-hidden="true"></i>
            </a>
          </div>
        </div>

        <div class="col-md-4 footer-col">
          <h4>Horario</h4>
          <p>Lunes a Viernes</p>
          <p>9:00 AM – 5:00 PM</p>
        </div>

      </div>
    </div>
  </footer>

  <!-- JS -->
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/bootstrap.js"></script>

  <script>
    let currentCategory = 'congelados';
    let currentBrand = 'all';

    async function loadMenu() {
      const response = await fetch("data/menu.json");
      const items = await response.json();

      const grid = document.getElementById("menuGrid");
      grid.innerHTML = "";

      items.forEach(item => {
        let optionsHtml = "";

        if (Array.isArray(item.variants) && item.variants.length > 0) {
          optionsHtml = `
            <div class="options" style="display:flex;flex-direction:column;gap:8px;margin-top:12px;">
              ${item.variants
                .map(v => `
                <div style="display:flex;align-items:center;gap:10px;">
                  <span style="background:#ffffff20;padding:3px 10px;border-radius:6px;font-size:13px;">
                    ${v.size}
                  </span>
                  <span style="font-size:15px;font-weight:500;color:#fff;">
                    $${v.price}
                  </span>
                </div>`).join("")}
            </div>`;
        }

        const brand = item.brand || "";

        const card = `
          <div class="col-sm-6 col-lg-4 all ${item.category} menu-item"
               data-category="${item.category}"
               data-brand="${brand}">
            <div class="box">
              <div class="img-box">
                <img src="${item.image}" alt="${item.name}">
              </div>
              <div class="detail-box">
                <h5>${item.name}</h5>
                ${optionsHtml}
              </div>
            </div>
          </div>
        `;

        grid.innerHTML += card;
      });
    }

    function applyFilters() {
      const cards = document.querySelectorAll('#menuGrid .menu-item');
      let visibleCount = 0;

      cards.forEach(card => {
        const matchCategory = currentCategory === 'all' || card.dataset.category === currentCategory;
        const matchBrand = currentBrand === 'all' || card.dataset.brand === currentBrand;

        if (matchCategory && matchBrand) {
          visibleCount++;
          card.style.display = "block";
          card.classList.remove("show");
          void card.offsetWidth;
          card.classList.add("show");
        } else {
          card.style.display = "none";
          card.classList.remove("show");
        }
      });

      document.getElementById("noResultsMessage").style.display =
        visibleCount === 0 ? "block" : "none";
    }

    function setupCategoryFilters() {
      const buttons = document.querySelectorAll('.filters_menu li');

      buttons.forEach(btn => {
        btn.addEventListener('click', () => {
          buttons.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');

          const filter = btn.getAttribute('data-filter');

          currentCategory = filter.replace('.', '');
          applyFilters();
        });
      });
    }

    function setupBrandChips() {
      const chips = document.querySelectorAll(".chip");

      chips.forEach(chip => {
        chip.addEventListener("click", () => {
          chips.forEach(c => c.classList.remove("active"));
          chip.classList.add("active");

          currentBrand = chip.dataset.brand === "all" ? "all" : chip.dataset.brand;
          applyFilters();
        });
      });
    }

    window.addEventListener("DOMContentLoaded", async () => {
      await loadMenu();
      setupCategoryFilters();
      setupBrandChips();

      currentCategory = 'congelados';
      currentBrand = 'all';
      applyFilters();
    });
  </script>

</body>
</html>
